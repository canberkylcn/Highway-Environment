# Destination 'o1' olduğu için bunun Intersection ortamı olduğunu varsayıyoruz
env_id: "intersection-v1"
render_mode: null

env_params:
  observation:
    type: "Kinematics"
    vehicles_count: 15
    features: ["presence", "x", "y", "vx", "vy", "cos_h", "sin_h"]
    features_range:
      x: [-100, 100]
      y: [-100, 100]
      vx: [-20, 20]
      vy: [-20, 20]
    absolute: true
    flatten: false
    observe_intentions: false

  action:
    type: "DiscreteMetaAction"
    longitudinal: true
    lateral: false  # DİKKAT: Sadece hız kontrolü var, şerit değiştiremez/dönemez.
    target_speeds: [0, 4.5, 9]

  simulation_frequency: 15
  policy_frequency: 1
  duration: 13
  
  destination: "o1"
  controlled_vehicles: 1
  initial_vehicle_count: 10
  spawn_probability: 0.6
  
  screen_width: 600
  screen_height: 600
  centering_position: [0.5, 0.6]
  scaling: 7.15  # (5.5 * 1.3 işleminin sonucu)
  
  # Ödül Ayarları
  collision_reward: -5
  high_speed_reward: 1
  arrived_reward: 1
  reward_speed_range: [7.0, 9.0]
  normalize_reward: false
  offroad_terminal: false

# Ajan ayarlarını senin önceki başarılı DQN stratejine göre ekledim
agent_params:
  algorithm: "DQN"
  total_timesteps: 100000
  save_path: "models/intersection_custom_dqn"
  tensorboard_log: "logs/tensorboard/"
  checkpoint_freq: 50000
  
  model_params:
    learning_rate: 0.0005
    buffer_size: 15000
    learning_starts: 2000
    batch_size: 32
    tau: 1.0
    gamma: 0.95
    train_freq: 4
    gradient_steps: 1
    target_update_interval: 1000
    exploration_fraction: 0.3
    exploration_initial_eps: 1.0
    exploration_final_eps: 0.05
    verbose: 1
    # device: "auto"  <--- BU SATIRI SİL (DELETE THIS LINE)
    
    policy_kwargs:
      net_arch: [256, 256]